<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title style="text-align: center; font-weight: bolder;">Alta Orden Pc</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
 <!--ngModel required [(ngModel)] = "bdni"-->
  <ion-item style="height: 45px;">
    <ion-icon slot="end" name="search" id="search-icon"  (click)="BuscarClienteDni(bdni)"></ion-icon>
    <ion-input style="text-align: center;color:rgb(4, 61, 218);" placeholder="Ingrese Dni Cliente" ngModel required [(ngModel)] = "bdni"></ion-input>
  </ion-item>
  <form  #formCli="ngForm">
 <div *ngIf='datosCliente' >
  <h2 style="text-align: center; margin: 0.5em; color: gray;">Datos del Cliente</h2>
  <ion-item>
    <ion-label  color="primary">Dni</ion-label>
    <ion-input  clearInput="true" disabled="true" name="dniNC" type="text"  ngModel required [(ngModel)]="dniNC"></ion-input>
   </ion-item>
   <ion-item>
    <ion-label color="primary">Nombre</ion-label>
    <ion-input  clearInput="true" name="nombre" type="text"  ngModel required [(ngModel)]="nombre"></ion-input>
   </ion-item>
   <ion-item>
    <ion-label color="primary">Apellido</ion-label>
    <ion-input  clearInput="true" name="apellido" type="text"  ngModel required [(ngModel)]="apellido"></ion-input>
   </ion-item>
   <ion-item>
    <ion-label  color="primary">Telefono</ion-label>
    <ion-input  clearInput="true" name="telefono" type="text"  ngModel required [(ngModel)]="telefono"></ion-input>
   </ion-item>
   <ion-item>
    <ion-label  color="primary">Dirección</ion-label>
    <ion-input  clearInput="true" name="direccion" type="text"  ngModel required [(ngModel)]="direccion"></ion-input>
   </ion-item>
   <ion-item>
    <ion-label  color="primary">Email</ion-label>
    <ion-input  clearInput="true" name="email" type="text"  ngModel [(ngModel)]="email"></ion-input>
   </ion-item>
 </div>
</form>
 <h2 style="text-align: center; margin: 0.5em; color: gray;">Datos de la orden reparación</h2>
  <form  #form="ngForm" (ngSubmit)="AgregarOrden()">
    <!--<ion-item>
      <ion-label position="floating" color="primary">Fecha Ingreso</ion-label>
      <ion-input  name="fechaIngreso" type="text"  ngModel required [(ngModel)]="fechaIngreso"></ion-input>
    </ion-item>-->
    <div *ngIf='datosDniEncontrado' >
      <ion-item>
        <ion-label  color="primary">Dni</ion-label>
        <ion-input  clearInput="true"  disabled="true" name="dni" type="text"  ngModel required [(ngModel)]="dni"></ion-input>
       </ion-item>
    </div>
    <ion-item>
      <ion-label color="primary">Fecha Ingreso</ion-label>
      <ion-datetime displayFormat="D MMM YYYY H:mm" name="fechaIngreso" type="Date" placeholder="Seleccione fecha" ngModel required [(ngModel)]="fechaIngreso "></ion-datetime>
    </ion-item>
  <ion-item>
    <ion-label  color="primary">Marca</ion-label>
    <ion-input  clearInput="true" name="nombreMarcaPc" type="text"  ngModel required [(ngModel)]="nombreMarcaPc"></ion-input>
  </ion-item>
  <ion-item>
    <ion-label  color="primary">Modelo</ion-label>
    <ion-input  clearInput="true" name="nombreModeloPc" type="text"  ngModel required [(ngModel)]="nombreModeloPc"></ion-input>
  </ion-item>
  <ion-item>
    <ion-label  color="primary">Versión</ion-label>
    <ion-input  clearInput="true" name="versionPc" type="text"  ngModel required [(ngModel)]="versionPc"></ion-input>
  </ion-item>
  <ion-item>
    <ion-label color="primary">Detalle</ion-label>
    <ion-input   clearInput="true" name="detalleOrden" type="text"  ngModel required [(ngModel)]="detalleOrden"></ion-input>
  </ion-item>
  <ion-item>
    <ion-label  color="primary">Diagnóstico</ion-label>
    <ion-input  clearInput="true" name="diagnosticoPc" type="text"  ngModel required [(ngModel)]="diagnosticoPc"></ion-input>
  </ion-item>
  <ion-item>
    <ion-label  color="primary">Presupuesto</ion-label>
    <ion-input  clearInput="true" name="presupuesto" type="number"  ngModel  [(ngModel)]="presupuesto"></ion-input>
  </ion-item>
  <ion-item>
    <ion-label  color="primary">Seña</ion-label>
    <ion-input  clearInput="true" name="seña" type="number"  ngModel  [(ngModel)]="senia"></ion-input>
  </ion-item>
  <ion-item>
    <ion-label  color="primary">Estado</ion-label>
    <ion-select placeholder="ingrese estado"  value="A reparar" #S (ionChange)="estadoReparacion(S.value)">
     <ion-select-option value="A reparar">
       A reparar
     </ion-select-option>
    </ion-select> 
  </ion-item>
  <ion-button [disabled]="form.invalid" type ="submit"  expand="block"  color ="success" style="margin: 2%; text-align: center;">
    Aceptar
    <ion-icon slot="start" name="checkbox-outline"></ion-icon> 
  </ion-button>
  </form>  
<ion-button expand="block" color="secondary" style="margin: 2%; text-align: center;" routerLink="/menu">
  Cancelar
  <ion-icon slot="start" name="close-circle-outline" ></ion-icon> 
</ion-button>
</ion-content>







